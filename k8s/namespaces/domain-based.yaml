# 도메인별 네임스페이스 정의
# 14-Node Microservices Architecture
#
# Option 1: 도메인별 완전 격리
# 참고: docs/architecture/09-NAMESPACE_STRATEGY_ANALYSIS.md

---
# API 도메인별 네임스페이스
apiVersion: v1
kind: Namespace
metadata:
  name: auth
  labels:
    name: auth
    domain: auth
    tier: api
    layer: "2"
    phase: "1"
    app.kubernetes.io/part-of: ecoeco-backend
    app.kubernetes.io/component: api-layer

---
apiVersion: v1
kind: Namespace
metadata:
  name: my
  labels:
    name: my
    domain: my
    tier: api
    layer: "2"
    phase: "1"
    app.kubernetes.io/part-of: ecoeco-backend
    app.kubernetes.io/component: api-layer

---
apiVersion: v1
kind: Namespace
metadata:
  name: scan
  labels:
    name: scan
    domain: scan
    tier: api
    layer: "2"
    phase: "2"
    app.kubernetes.io/part-of: ecoeco-backend
    app.kubernetes.io/component: api-layer

---
apiVersion: v1
kind: Namespace
metadata:
  name: character
  labels:
    name: character
    domain: character
    tier: api
    layer: "2"
    phase: "2"
    app.kubernetes.io/part-of: ecoeco-backend
    app.kubernetes.io/component: api-layer

---
apiVersion: v1
kind: Namespace
metadata:
  name: location
  labels:
    name: location
    domain: location
    tier: api
    layer: "2"
    phase: "2"
    app.kubernetes.io/part-of: ecoeco-backend
    app.kubernetes.io/component: api-layer

---
apiVersion: v1
kind: Namespace
metadata:
  name: info
  labels:
    name: info
    domain: info
    tier: api
    layer: "2"
    phase: "3"
    app.kubernetes.io/part-of: ecoeco-backend
    app.kubernetes.io/component: api-layer

---
apiVersion: v1
kind: Namespace
metadata:
  name: chat
  labels:
    name: chat
    domain: chat
    tier: api
    layer: "2"
    phase: "3"
    app.kubernetes.io/part-of: ecoeco-backend
    app.kubernetes.io/component: api-layer

---
# Data 계층 (Tier 4: 최하위 - Database & Cache)
apiVersion: v1
kind: Namespace
metadata:
  name: data
  labels:
    name: data
    tier: data
    layer: "4"
    app.kubernetes.io/part-of: ecoeco-backend
    app.kubernetes.io/component: data-layer

---
# Message Queue 계층 (Tier 3: Async 통신)
# 참고: RabbitMQ는 scan API의 비동기 처리용
apiVersion: v1
kind: Namespace
metadata:
  name: messaging
  labels:
    name: messaging
    tier: message-queue
    layer: "3"
    app.kubernetes.io/part-of: ecoeco-backend
    app.kubernetes.io/component: messaging

---
# Control Plane 계층 (Tier 1: Monitoring & GitOps)
apiVersion: v1
kind: Namespace
metadata:
  name: monitoring
  labels:
    name: monitoring
    tier: control-plane
    layer: "1"
    app.kubernetes.io/part-of: ecoeco-backend
    app.kubernetes.io/component: monitoring

---
# Control Plane 계층 (Tier 1: GitOps - Atlantis)
apiVersion: v1
kind: Namespace
metadata:
  name: atlantis
  labels:
    name: atlantis
    tier: control-plane
    layer: "1"
    app.kubernetes.io/part-of: ecoeco-backend
    app.kubernetes.io/component: gitops

